<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Arlo's Game Hub</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #e3f2fd;
      margin: 0;
      padding: 20px;
      text-align: center;
    }
    .page {
      display: none;
    }
    .active {
      display: block;
    }
    #gameList button {
      margin: 10px;
      padding: 10px 15px;
      font-size: 18px;
      cursor: pointer;
    }
    #gameArea {
      margin: 20px auto;
      width: 400px;
      height: 300px;
      border: 3px solid #2196f3;
      background: #bbdefb;
      position: relative;
    }
    .tower {
      width: 60px;
      height: 120px;
      background: #1565c0;
      position: absolute;
      bottom: 0;
    }
    #playerTower {
      left: 10px;
    }
    #enemyTower {
      right: 10px;
    }
    .unit {
      width: 30px;
      height: 30px;
      background: #ff5722;
      position: absolute;
      bottom: 120px;
      border-radius: 5px;
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
      font-weight: bold;
      font-size: 14px;
    }
    #enemyUnits .unit {
      background: #4caf50;
    }
    #controls {
      margin-top: 15px;
    }
    button {
      background: #2196f3;
      color: white;
      border: none;
      padding: 10px 15px;
      margin: 0 10px 10px 10px;
      font-size: 16px;
      border-radius: 5px;
    }
    button:disabled {
      background: #90caf9;
      cursor: not-allowed;
    }
    #backClash, #backFlappy, #backSubway, #backBlock, #backBasket, #backTetris {
      background: #f44336;
    }
    #status {
      margin-top: 15px;
      font-weight: bold;
    }
    #message {
      font-size: 24px;
      font-weight: 700;
      color: #d32f2f;
      margin: 10px 0;
      height: 30px;
    }
    iframe {
      width: 100%;
      height: 600px;
      border: none;
      border-radius: 8px;
    }
  </style>
</head>
<body>

  <!-- HOME PAGE -->
  <div id="homePage" class="page active">
    <h1>Welcome to Arlo's Game Hub</h1>
    <div id="gameList">
      <button id="btnClash">Play Clash Royale Mini‑Game</button>
      <button id="btnFlappy">Play Flappy Bird</button>
      <button id="btnSubway">Play Subway Surfers</button>
      <button id="btnBlock">Play Block Blast</button>
      <button id="btnBasket">Play Basketball Stars</button>
      <button id="btnTetris">Play Tetris</button>
    </div>
    <footer style="margin-top:40px; font-size:14px; color:#555;">Made by Arlo</footer>
  </div>

  <!-- CLASH ROYALE PAGE -->
  <div id="clashPage" class="page">
    <h1>Mini Clash Royale by Arlo</h1>
    <div id="message"></div>
    <div id="gameArea">
      <div id="playerTower" class="tower"></div>
      <div id="enemyTower" class="tower"></div>
      <div id="playerUnits"></div>
      <div id="enemyUnits"></div>
    </div>
    <div id="controls">
      <button data-type="1" data-cost="3">Spawn Troop Lv1 (3 Elixir)</button>
      <button data-type="2" data-cost="5">Spawn Troop Lv2 (5 Elixir)</button>
      <button data-type="3" data-cost="7">Spawn Troop Lv3 (7 Elixir)</button>
      <br />
      <button id="backClash">← Back to Home</button>
    </div>
    <div id="status">Player Tower HP: 10 | Enemy Tower HP: 10 | Elixir: 10</div>
  </div>

  <!-- FLAPPY BIRD PAGE -->
  <div id="flappyPage" class="page">
    <h1>Flappy Bird</h1>
    <iframe src="https://flappybird.io/" title="Flappy Bird"></iframe>
    <button id="backFlappy">← Back to Home</button>
  </div>

  <!-- SUBWAY SURFERS PAGE -->
  <div id="subwayPage" class="page">
    <h1>Subway Surfers</h1>
    <p>Subway Surfers is not embeddable. <a href="https://subwaysurfers.com/" target="_blank" rel="noopener">Click here to play on official site</a>.</p>
    <button id="backSubway">← Back to Home</button>
  </div>

  <!-- BLOCK BLAST PAGE -->
  <div id="blockPage" class="page">
    <h1>Block Blast</h1>
    <p>Block Blast is not embeddable. <a href="https://blockblast.io/" target="_blank" rel="noopener">Click here to play on official site</a>.</p>
    <button id="backBlock">← Back to Home</button>
  </div>

  <!-- BASKETBALL STARS PAGE -->
  <div id="basketPage" class="page">
    <h1>Basketball Stars</h1>
    <iframe src="https://basketballstars.io/" title="Basketball Stars"></iframe>
    <button id="backBasket">← Back to Home</button>
  </div>

  <!-- TETRIS PAGE -->
  <div id="tetrisPage" class="page">
    <h1>Tetris</h1>
    <iframe src="https://tetris.com/play-tetris" title="Tetris"></iframe>
    <button id="backTetris">← Back to Home</button>
  </div>

<script>
  // Page elements
  const homePage = document.getElementById('homePage');
  const clashPage = document.getElementById('clashPage');
  const flappyPage = document.getElementById('flappyPage');
  const subwayPage = document.getElementById('subwayPage');
  const blockPage = document.getElementById('blockPage');
  const basketPage = document.getElementById('basketPage');
  const tetrisPage = document.getElementById('tetrisPage');

  // Buttons to open pages
  document.getElementById('btnClash').addEventListener('click', () => {
    showPage('clash');
    startClashGame();
  });
  document.getElementById('btnFlappy').addEventListener('click', () => showPage('flappy'));
  document.getElementById('btnSubway').addEventListener('click', () => showPage('subway'));
  document.getElementById('btnBlock').addEventListener('click', () => showPage('block'));
  document.getElementById('btnBasket').addEventListener('click', () => showPage('basket'));
  document.getElementById('btnTetris').addEventListener('click', () => showPage('tetris'));

  // Back buttons
  document.getElementById('backClash').addEventListener('click', () => {
    showPage('home');
    resetClashGame();
  });
  document.getElementById('backFlappy').addEventListener('click', () => showPage('home'));
  document.getElementById('backSubway').addEventListener('click', () => showPage('home'));
  document.getElementById('backBlock').addEventListener('click', () => showPage('home'));
  document.getElementById('backBasket').addEventListener('click', () => showPage('home'));
  document.getElementById('backTetris').addEventListener('click', () => showPage('home'));

  function showPage(pageName) {
    homePage.classList.remove('active');
    clashPage.classList.remove('active');
    flappyPage.classList.remove('active');
    subwayPage.classList.remove('active');
    blockPage.classList.remove('active');
    basketPage.classList.remove('active');
    tetrisPage.classList.remove('active');
    if (pageName === 'home') homePage.classList.add('active');
    else if (pageName === 'clash') clashPage.classList.add('active');
    else if (pageName === 'flappy') flappyPage.classList.add('active');
    else if (pageName === 'subway') subwayPage.classList.add('active');
    else if (pageName === 'block') blockPage.classList.add('active');
    else if (pageName === 'basket') basketPage.classList.add('active');
    else if (pageName === 'tetris') tetrisPage.classList.add('active');
  }

  // ----------------------------
  // Clash Royale Game Code
  // ----------------------------

  const playerTower = { hp: 10 };
  const enemyTower = { hp: 10 };
  let playerUnits = [];
  let enemyUnits = [];
  let playerElixir = 10;
  const maxElixir = 10;
  const statusDiv = document.getElementById('status');
  const messageDiv = document.getElementById('message');
  let gameOver = false;
  let elixirInterval, enemySpawnInterval, moveInterval;

  function updateStatus() {
    statusDiv.textContent = `Player Tower HP: ${playerTower.hp} | Enemy Tower HP: ${enemyTower.hp} | Elixir: ${playerElixir}`;
  }

  function createUnit(level, side) {
    const unit = document.createElement('div');
    unit.classList.add('unit');
    if (side === 'enemy') unit.style.background = '#4caf50';

    unit.style.bottom = '120px';
    if (side === 'player') unit.style.left = '70px';
    else unit.style.right = '70px';

    unit.textContent = `Lv${level}`;
    unit.side = side;
    unit.hp = [0,3,5,8][level] || 3;
    unit.level = level;
    return unit;
  }

  function moveUnits() {
    if (gameOver) return;

    playerUnits.forEach((unit, i) => {
      if (!unit.style.left) unit.style.left = '70px';
      const currentLeft = parseInt(unit.style.left);
      if (currentLeft >= 350) {
        enemyTower.hp--;
        removeUnit(unit, 'player', i);
        checkGameOver();
        updateStatus();
        return;
      }
      unit.style.left = currentLeft + 1 + 'px';
    });

    enemyUnits.forEach((unit, i) => {
      if (!unit.style.right) unit.style.right = '70px';
      const currentRight = parseInt(unit.style.right);
      if (currentRight >= 350) {
        playerTower.hp--;
        removeUnit(unit, 'enemy', i);
        checkGameOver();
        updateStatus();
        return;
      }
      unit.style.right = currentRight + 1 + 'px';
    });

    // Combat
    for (let i = playerUnits.length - 1; i >= 0; i--) {
      const pUnit = playerUnits[i];
      const pPos = parseInt(pUnit.style.left);
      for (let j = enemyUnits.length -1; j >= 0; j--) {
        const eUnit = enemyUnits[j];
        const ePos = 400 - parseInt(eUnit.style.right);
        if (Math.abs(pPos - ePos) < 30) {
          pUnit.hp--;
          eUnit.hp--;
          if (pUnit.hp <= 0) removeUnit(pUnit, 'player', i);
          if (eUnit.hp <= 0) removeUnit(eUnit, 'enemy', j);
          updateStatus();
          break;
        }
      }
    }
  }

  function removeUnit(unit, side, index) {
    if (side === 'player') {
      if (playerUnits[index] === unit) {
        playerUnits.splice(index, 1);
        unit.remove();
      }
    } else {
      if (enemyUnits[index] === unit) {
        enemyUnits.splice(index, 1);
        unit.remove();
      }
    }
  }

  function spawnPlayerUnit(level, cost) {
    if (gameOver) return;
    if (playerElixir >= cost) {
      const unit = createUnit(level, 'player');
      playerUnits.push(unit);
      document.getElementById('playerUnits').appendChild(unit);
      playerElixir -= cost;
      updateStatus();
    } else {
      alert('Not enough Elixir!');
    }
  }

  function spawnEnemyUnit() {
    if (gameOver) return;
    const level = Math.floor(Math.random() * 3) + 1;
    const unit = createUnit(level, 'enemy');
    enemyUnits.push(unit);
    document.getElementById('enemyUnits').appendChild(unit);
  }

  function checkGameOver() {
    if (playerTower.hp <= 0) {
      messageDiv.textContent = 'You Lose!';
      gameOver = true;
      stopGameLoops();
    }
    if (enemyTower.hp <= 0) {
      messageDiv.textContent = 'You Win!';
      gameOver = true;
      stopGameLoops();
    }
  }

  function regenElixir() {
    if (gameOver) return;
    if (playerElixir < maxElixir) {
      playerElixir++;
      updateStatus();
    }
  }

  // Game loops
  function startClashGame() {
    resetClashGame();
    elixirInterval = setInterval(regenElixir, 1500);
    enemySpawnInterval = setInterval(spawnEnemyUnit, 4000);
    moveInterval = setInterval(moveUnits, 30);
  }
  function stopGameLoops() {
    clearInterval(elixirInterval);
    clearInterval(enemySpawnInterval);
    clearInterval(moveInterval);
  }
  function resetClashGame() {
    stopGameLoops();
    playerTower.hp = 10;
    enemyTower.hp = 10;
    playerElixir = maxElixir;
    playerUnits.forEach(u => u.remove());
    enemyUnits.forEach(u => u.remove());
    playerUnits = [];
    enemyUnits = [];
    messageDiv.textContent = '';
    updateStatus();
    gameOver = false;
  }

  // Add listeners to troop buttons
  document.querySelectorAll('#controls button[data-type]').forEach(btn => {
    btn.addEventListener('click', () => {
      const level = parseInt(btn.getAttribute('data-type'));
      const cost = parseInt(btn.getAttribute('data-cost'));
      spawnPlayerUnit(level, cost);
    });
  });

</script>

</body>
</html>

